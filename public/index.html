<!DOCTYPE html>
<html>
<head>
  <link rel="import" href="elements/uikit.html">
  <link rel="import" href="vendors/polymer/polymer.html">
  <link rel="import" href="elements/management/google-auth.html">
  <link rel="import" href="elements/livesnooker-api.html">
  <link rel="import" href="elements/livesnooker-home.html">
  <link rel="import" href="vendors/more-routing/more-routing.html">
  <link rel="import" href="vendors/iron-pages/iron-pages.html">
  <link rel="import" href="elements/league-controller.html">
  <link rel="import" href="elements/livesnooker-user.html">
  <link rel="import" href="elements/leagues-list.html">
  <link rel="import" href="elements/livesnooker-toolbar.html">
</head>

<body>
  <livesnooker-api host="<!-- @echo BACKEND_HOST -->"></livesnooker-api>
  <google-auth googleId="<!-- @echo GOOGLE_CLIENT_ID -->"></google-auth>
  <header>
    <livesnooker-toolbar></livesnooker-toolbar>
  </header>

  <dom-module id="livesnooker-routing">
    <template>
      <more-routing-config driver="hash"></more-routing-config>
      <more-route name="leagues" path="/"></more-route>
      <more-route name="league" path="/leagues/:leagueId" params="{{leagueUrlParams}}"></more-route>
      <more-route name="livesnooker" path="/live/:leagueId" params="{{livesnookerUrlParams}}"></more-route>
      <more-route name="user" path="/users/me"></more-route>
      <more-route-selector selected-params="{{params}}">
        <iron-pages>
          <section route="livesnooker"><livesnooker-home league-id="{{livesnookerUrlParams.leagueId}}" socket-url="<!-- @echo BACKEND_HOST -->/"></livesnooker-home></section>
          <section route="leagues"><leagues-list></leagues-list></section>
          <section route="league"><league-controller league-id="{{leagueUrlParams.leagueId}}"></league-controller></section>
          <section route="user"><livesnooker-user></livesnooker-user></section>
        </iron-pages>
      </more-route-selector>
    </template>
  </dom-module>

  <script>
    Polymer({
      is: 'livesnooker-routing'
    });
  </script>

  <livesnooker-routing></livesnooker-routing>
</body>
</html>
