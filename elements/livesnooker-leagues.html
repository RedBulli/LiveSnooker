<link rel="import" href="../vendors/polymer/polymer.html">
<link rel="import" href="js/leagues.html">

<polymer-element name="livesnooker-leagues">
  <template>
    <live-snooker-api id="api"></live-snooker-api>
    <a href="/#/leagues/new">Create new league</a>
    <br>
    Change the current league:
    <ul>
      <template repeat="{{league, i in leagues.models}}">
        <li>
          <a href="/#/{{league.id}}">{{league.attributes.name}}</a>
        </li>
      </template>
    </ul>
  </template>
  <script>
    Polymer({
      domReady: function() {
        this.leagues = new Leagues();
        this.leagues.setApiClient(this.$.api);
        var _this = this;
        this.leagues.fetch();
      }
    });
  </script>
</polymer-element>
