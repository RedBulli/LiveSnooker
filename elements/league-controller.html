<link rel="import" href="../vendors/polymer/polymer.html">
<link rel="import" href="livesnooker-api.html">
<link rel="import" href="js/players.html">
<link rel="import" href="js/leagues.html">
<link rel="import" href="validation-errors.html">
<link rel="import" href="uikit.html">

<dom-module id="league-controller">
  <style>
    #league {
      margin-left: 1em;
    }
  </style>

  <template>
    <livesnooker-api id="api"></livesnooker-api>
    <div id="league">
      <h2>[[leagueAttrs.name]]</h2>
      <ul class="uk-list">
        <li>ID: <span>[[leagueAttrs.id]]</span></li>
        <li>Players:
          <ul class="uk-list">
            <template is="dom-repeat" items="[[playerModels]]">
              <li><span>[[ item.attributes.name ]]</span> <a href="#" class="uk-icon-edit" data-player$="{{item.id}}" on-click="playerEditClick"></a></li>
            </template>
          </ul>
        </li>
      </ul>
      <form class="uk-form">
        <div class="uk-form-controls">
          <input type="text" id="playerName" name="name" placeholder="New player name">
          <button class="uk-button uk-button-primary" on-click="newPlayer">Create player</button>
        </div>
        <validation-errors id="errors"></validation-errors>
      </form>
      <template if="[[ error ]]">
        [[ error ]]
      </template>
    </div>
  </template>
</dom-module>

<script src="league-controller.js"></script>
