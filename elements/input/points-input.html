<link rel="import" href="../../vendors/polymer/polymer.html">
<link rel="import" href="snooker-ball.html">
<link rel="import" href="../uikit.html">

<dom-module id="points-input">
  <style>
    li {
      display: inline-block;
      width: 2.5em;
    }
    #undo {
      font-size: 2.5em;
      position: relative;
      bottom: 5px;
    }
  </style>

  <template>
    <ul id="balls">
      <li>
        <snooker-ball on-tap="onShot" value="0" color="white" disabled="[[onlyFouls]]"></snooker-ball>
      </li>
      <li>
        <snooker-ball on-tap="onShot" value="1" color="red" disabled="[[onlyFouls]]"></snooker-ball>
      </li>
      <li>
        <snooker-ball on-tap="onShot" value="2" color="yellow" disabled="[[onlyFouls]]"></snooker-ball>
      </li>
      <li>
        <snooker-ball on-tap="onShot" value="3" color="green" disabled="[[onlyFouls]]"></snooker-ball>
      </li>
      <li>
        <snooker-ball on-tap="onShot" value="4" color="#f4a460"></snooker-ball>
      </li>
      <li>
        <snooker-ball on-tap="onShot" value="5" color="blue"></snooker-ball>
      </li>
      <li>
        <snooker-ball on-tap="onShot" value="6" color="pink"></snooker-ball>
      </li>
      <li>
        <snooker-ball on-tap="onShot" value="7" color="black"></snooker-ball>
      </li>
      <li>
        <i id="undo" class="uk-icon-undo" on-tap="onUndo"></i>
      </li>
    </ul>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'points-input',
    properties: {
      onlyFouls: {
        type: Boolean,
        value: false
      }
    },
    onShot: function(event) {
      var points = parseInt(event.target.getAttribute("value"));
      if (points < 4 && this.onlyFouls) return;
      this.fire('shot', points);
    },
    onUndo: function(event) {
      this.fire('undo');
    }
  });
</script>
