<link rel="import" href="../vendors/polymer/polymer.html">
<link rel="import" href="js/detect-rtc.html">
<link rel="import" href="livesnooker-api.html">
<link rel="import" href="js/frames.html">
<link rel="import" href="js/players.html">
<link rel="import" href="js/leagues.html">
<link rel="import" href="stream-channel.html">
<link rel="import" href="event-stream.html">

<dom-module id="livesnooker-league" hidden>
  <template>
    <livesnooker-api id="api" user="{{user}}"></livesnooker-api>
    <template is="dom-if" if="[[league]]">
      <template is="dom-if" if="[[streamUrl]]">
        <event-stream stream-url="[[streamUrl]]" on-event="onStreamEvent"></event-stream>
      </template>
      <template is="dom-if" if="[[_isRTCSupported()]]">
        <stream-channel id="stream-channel" socket-url="[[socketUrl]]" league-id="[[leagueId]]" on-new-stream="newStream" on-stream-closed="streamClosed"></stream-channel>
      </template>
    </template>
  </template>
</dom-module>

<script src="livesnooker-league.js"></script>
