<link rel="import" href="../vendors/polymer/polymer.html">
<link rel="import" href="js/frame.html">
<link rel="import" href="js/league.html">
<link rel="import" href="js/leagues.html">
<link rel="import" href="js/players.html">
<link rel="import" href="live-snooker-api.html">

<polymer-element name="new-league-form">
  <template>
    <live-snooker-api id="api"></live-snooker-api>
    <form>
      <input type="text" id="leagueName" name="name">
      <button on-click="{{ newLeague }}">Create league</button>
    </form>
  </template>
  <script>
    Polymer({
      newLeague: function() {
        event.preventDefault();
        var opts = {
          uuid: createUuid(),
          name: this.$.leagueName.value
        };
        var league = new League(opts);
        league.setApiClient(this.$.api);
        league.save();
      }
    });
  </script>
</polymer-element>
