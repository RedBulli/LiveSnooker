<link rel="import" href="../vendors/polymer/polymer.html">

<dom-module id="backbone-collection-renderer">
  <template>
    <content></content>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'backbone-collection-renderer',
    properties: {
      collection: Object,
      models: {
        type: Array,
        value: function() {return [];}
      }
    },
    renderModelsToTemplate: function() {
      var _this = this;
      this.splice('models', 0, this.models.length);
      this.collection.each(function(model) {
        _this.push('models', model);
      });
    },
    ready: function() {
      var _this = this;
      var el = Polymer.dom(_this).node.querySelector(".content");
      el.items = this.models;
      this.collection.on("add remove change reset", function() {
        _this.renderModelsToTemplate();
        el.render();
      });
      this.renderModelsToTemplate();
    }
  });
</script>
